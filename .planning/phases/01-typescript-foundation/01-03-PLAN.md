---
phase: 01-typescript-foundation
type: execute
---

<objective>
Configure development workflow with TypeScript watch mode, type checking, and optional ESLint integration.

Purpose: Establish a complete development workflow with hot-reload, continuous type checking, and code quality tooling for the TypeScript codebase.

Output: Fully configured development environment with watch mode, type checking, and linting.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-typescript-foundation/01-01-SUMMARY.md
@.planning/phases/01-typescript-foundation/01-02-SUMMARY.md
@server/package.json
@server/tsconfig.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure TypeScript watch mode for development</name>
  <files>server/package.json</files>
  <action>The "dev" script was already updated in plan 01-01 to use `tsx watch src/index.ts`. Verify this script is correct. tsx watch provides hot-reload by watching for file changes and restarting the server automatically. This is the modern replacement for nodemon/ts-node-dev. No additional configuration needed - tsx watch works out of the box with ES modules and TypeScript.</action>
  <verify>cd server && npm run dev starts the server and reloads on file changes</verify>
  <done>dev script uses tsx watch for hot-reload development</done>
</task>

<task type="auto">
  <name>Task 2: Add continuous type checking script</name>
  <files>server/package.json</files>
  <action>The "type-check" script was already added in plan 01-01. Add a "type-check:watch" script for continuous type checking during development:
```json
"scripts": {
  "type-check:watch": "tsc --noEmit --watch"
}
```
This runs TypeScript compiler in watch mode, validating types in real-time as files are edited. Developers can run this in a separate terminal for instant feedback on type errors.</action>
  <verify>cd server && npm run type-check:watch starts tsc in watch mode and waits for file changes</verify>
  <done>type-check:watch script added, provides continuous type validation</done>
</task>

<task type="auto">
  <name>Task 3: Setup ESLint with TypeScript support (optional)</name>
  <files>server/package.json, server/.eslintrc.js</files>
  <action>Run `cd server && npm install -D eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin`. Create `.eslintrc.js` with TypeScript configuration:
```javascript
module.exports = {
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaVersion: 2022,
    sourceType: 'module',
    project: './tsconfig.json',
  },
  extends: [
    'eslint:recommended',
    'plugin:@typescript-eslint/recommended',
    'plugin:@typescript-eslint/recommended-requiring-type-checking',
  ],
  plugins: ['@typescript-eslint'],
  env: {
    node: true,
    es2022: true,
  },
  rules: {
    '@typescript-eslint/no-explicit-any': 'error',
    '@typescript-eslint/explicit-function-return-type': 'off',
    '@typescript-eslint/no-unused-vars': ['error', { argsIgnorePattern: '^_' }],
  },
};
```
Add "lint" and "lint:fix" scripts to package.json:
```json
"lint": "eslint src --ext .ts",
"lint:fix": "eslint src --ext .ts --fix"
```
ESLint enforces code quality and catches issues beyond TypeScript's type checking. The no-explicit-any rule enforces the project's strict type policy.</action>
  <verify>cd server && npm run lint runs eslint on all TypeScript files; npm run lint:fix auto-fixes issues</verify>
  <done>ESLint configured with TypeScript rules, lint scripts added to package.json</done>
</task>

<task type="auto">
  <name>Task 4: Create .gitignore entries for TypeScript artifacts</name>
  <files>server/.gitignore</files>
  <action>Update `.gitignore` in server directory (or create if missing) to exclude TypeScript compilation artifacts:
```
# TypeScript
dist/
*.tsbuildinfo

# Development
.DS_Store
*.log
```
The dist/ directory contains compiled JavaScript and shouldn't be committed. *.tsbuildinfo files are TypeScript's incremental compilation cache.</action>
  <verify>server/.gitignore exists and contains dist/ exclusion</verify>
  <done>.gitignore excludes dist/ and TypeScript artifacts</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `cd server && npm run dev` starts server with hot-reload
- [ ] `cd server && npm run type-check:watch` provides continuous type checking
- [ ] `cd server && npm run lint` validates code quality with ESLint
- [ ] `server/.eslintrc.js` exists with TypeScript configuration
- [ ] `server/.gitignore` excludes dist/ directory
- [ ] All development workflow scripts work correctly
</verification>

<success_criteria>

- Development workflow fully configured (watch, type-check, lint)
- ESLint with TypeScript support installed and configured
- All scripts functional and tested
- Git properly ignores TypeScript artifacts
- Phase 1 complete and ready for Phase 2 (Database & Schema Types)
</success_criteria>

<output>
After completion, create `.planning/phases/01-typescript-foundation/01-03-SUMMARY.md`:

# Phase 1 Plan 3: Development Workflow Configuration Summary

**Configured complete TypeScript development workflow with watch mode, type checking, and linting.**

## Accomplishments

- Verified tsx watch configuration for hot-reload development
- Added continuous type checking with tsc --watch
- Installed and configured ESLint with TypeScript support
- Configured .gitignore for TypeScript artifacts

## Files Created/Modified

- `server/package.json` - Added type-check:watch, lint, lint:fix scripts
- `server/.eslintrc.js` - New ESLint configuration with TypeScript rules
- `server/.gitignore` - Added TypeScript artifact exclusions

## Decisions Made

- Used tsx watch for hot-reload (modern replacement for nodemon)
- ESLint with @typescript-eslint/recommended-requiring-type-checking for strictest validation
- no-explicit-any rule enforces project's strict type policy

## Issues Encountered

None

## Next Step

**Phase 1 complete.** Ready for Phase 2 (02-01-PLAN.md) - Database & Schema Types

## Phase Completion Notes

All TypeScript Foundation work complete:
- ✅ TypeScript compiler configured (01-01)
- ✅ Type definitions installed (01-02)
- ✅ Development workflow configured (01-03)

The project is ready to begin converting JavaScript files to TypeScript, starting with the database layer in Phase 2.
</output>
